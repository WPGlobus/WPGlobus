jQuery(document).ready(function(l){"use strict";var s;"undefined"!=typeof WPGlobusAcf&&(s={parseBool:function(e){return!/^(false|0)$/i.test(e)&&!!e},isPro:function(){return s.parseBool(WPGlobusAcf.pro)},isBuilder:function(){return s.parseBool(WPGlobusAcf.builder_id)},vendorAcfFields:null,option:{},init:function(e){s.isBuilder()&&"undefined"==typeof WPGlobusDialogApp?s.setTranslatableClass():(s.option=l.extend(s.option,e),s.option.pro?(s.startAcf(".acf-field"),s.runActions()):(0<l(".acf_postbox .field").length&&s.startAcf(".acf_postbox .field"),0<l(".acf-postbox .acf-field").length&&s.startAcf(".acf-postbox .acf-field")),s.attachListeners())},setTranslatableClass:function(){setTimeout(function(){l.each(s.getVendorAcfFields(),function(e,i){l("#"+i).addClass(WPGlobusAcf.translatableClass)})},500)},runActions:function(){void 0!==WPGlobusAcf.actions.fixTextFields&&WPGlobusAcf.actions.fixTextFields&&s.fixTextFields()},fixTextFields:function(){l.each(WPGlobusAcf.fields,function(e,i){i=l('input[type="text"]#'+i);1!=i.length||1==(i=i.parent(".acf-input-wrap")).length&&i.hasClass("acf-input-wrap")&&i.css("height","auto")})},isDisabledField:function(t){var n=!1,s=l("#"+t).parents(".acf-field").attr("id");return void 0!==s&&l.each(WPGlobusAcf.disabledFields,function(e,i){i==s&&(n=!0)}),n||(l.each(WPGlobusAcf.disabledFields,function(e,i){i==t&&(n=!0)}),n)},startAcf:function(e){l(".acf_postbox").parents("#postbox-container-2").length,l(e).each(function(){var e,i,t=l(this);return t.hasClass("field_type-textarea")||t.hasClass("acf-field-textarea")?(e=t.find("textarea").attr("id"),s.registerField(e),!!s.isDisabledField(e)||(!s.isVendorAcfField(e)||(i=l("#"+e).height()+20,void WPGlobusDialogApp.addElement({id:e,dialogTitle:"Edit ACF field",style:"width:97%;float:left;",styleTextareaWrapper:"height:"+i+"px;",sbTitle:"Click for edit",onChangeClass:"wpglobus-on-change-acf-field"})))):t.hasClass("field_type-text")||t.hasClass("acf-field-text")?(e=t.find("input").attr("id"),s.registerField(e),!!s.isDisabledField(e)||(!s.isVendorAcfField(e)||void WPGlobusDialogApp.addElement({id:e,dialogTitle:"Edit ACF field",style:"width:97%;float:left;",sbTitle:"Click for edit",onChangeClass:"wpglobus-on-change-acf-field"}))):void 0})},registerField:function(e,i){var t=!1;return void 0!==e&&-1==e.indexOf("acfcloneindex")&&(s.isRegisteredField(e)||(t=!0,WPGlobusAcf.fields.push(e))),!!t&&e},getFields:function(){return WPGlobusAcf.fields},getDisabledFields:function(){return WPGlobusAcf.disabledFields},unificationField:function(e){return e=/acf\[/.test(e)?(e=e.replace(/\[/g,"-")).replace(/]/g,""):e},getVendorAcfFields:function(){if(null===s.vendorAcfFields){if("undefined"==typeof WPGlobusVendorAcfFields||""==WPGlobusVendorAcfFields)return s.vendorAcfFields=!1,s.vendorAcfFields;s.vendorAcfFields=WPGlobusVendorAcfFields.split(",")}return s.vendorAcfFields},isVendorAcfField:function(t){if(void 0===t)return!1;t=s.unificationField(t);var n=!1,e=s.getVendorAcfFields();return e&&l.each(e,function(e,i){if(i===t)return!(n=!0)}),n},isRegisteredField:function(i){var t=!1;return s.getFields().forEach(function(e){if(e==i)return!(t=!0)}),t},attachListeners:function(){var i;s.option.pro&&(i=this,acf.add_action&&acf.add_action("append",function(e){i.replaceCloneIndex(e)}))},replaceCloneIndex:function(e){var i=e.data("id");e.find('[data-source-id*="acfcloneindex"]').each(function(){l(this).attr("data-source-id",l(this).attr("data-source-id").replace("acfcloneindex",i))})}},(WPGlobusAcf=l.extend({},WPGlobusAcf,s)).init({pro:WPGlobusAcf.pro}))});