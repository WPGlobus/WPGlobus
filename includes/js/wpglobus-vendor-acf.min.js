jQuery(document).ready(function(d){"use strict";var o;"undefined"!=typeof WPGlobusAcf&&(o={parseBool:function(e){return!/^(false|0)$/i.test(e)&&!!e},isPro:function(){return o.parseBool(WPGlobusAcf.pro)},isBuilder:function(){return o.parseBool(WPGlobusAcf.builder_id)},vendorAcfFields:null,option:{},init:function(e){o.isBuilder()&&"undefined"==typeof WPGlobusDialogApp||(o.option=d.extend(o.option,e),o.option.pro?(o.startAcf(".acf-field"),o.runActions()):(0<d(".acf_postbox .field").length&&o.startAcf(".acf_postbox .field"),0<d(".acf-postbox .acf-field").length&&o.startAcf(".acf-postbox .acf-field")),o.attachListeners())},runActions:function(){void 0!==WPGlobusAcf.actions.fixTextFields&&WPGlobusAcf.actions.fixTextFields&&o.fixTextFields()},fixTextFields:function(){d.each(WPGlobusAcf.fields,function(e,i){i=d('input[type="text"]#'+i);1!=i.length||1==(i=i.parent(".acf-input-wrap")).length&&i.hasClass("acf-input-wrap")&&i.css("height","auto")})},isDisabledField:function(t){var n=!1,o=d("#"+t).parents(".acf-field").attr("id");return void 0!==o&&d.each(WPGlobusAcf.disabledFields,function(e,i){i==o&&(n=!0)}),n||(d.each(WPGlobusAcf.disabledFields,function(e,i){i==t&&(n=!0)}),n)},startAcf:function(e){d(".acf_postbox").parents("#postbox-container-2").length,d(e).each(function(){var e,i,t=d(this);return t.hasClass("field_type-textarea")||t.hasClass("acf-field-textarea")?(e=t.find("textarea").attr("id"),o.registerField(e),!!o.isDisabledField(e)||(!o.isVendorAcfField(e)||(i=d("#"+e).height()+20,void WPGlobusDialogApp.addElement({id:e,dialogTitle:"Edit ACF field",style:"width:97%;float:left;",styleTextareaWrapper:"height:"+i+"px;",sbTitle:"Click for edit",onChangeClass:"wpglobus-on-change-acf-field"})))):t.hasClass("field_type-text")||t.hasClass("acf-field-text")?(e=t.find("input").attr("id"),o.registerField(e),!!o.isDisabledField(e)||(!o.isVendorAcfField(e)||void WPGlobusDialogApp.addElement({id:e,dialogTitle:"Edit ACF field",style:"width:97%;float:left;",sbTitle:"Click for edit",onChangeClass:"wpglobus-on-change-acf-field"}))):void 0})},registerField:function(e,i){var t=!1;return void 0!==e&&-1==e.indexOf("acfcloneindex")&&(o.isRegisteredField(e)||(t=!0,WPGlobusAcf.fields.push(e))),!!t&&e},getFields:function(){return WPGlobusAcf.fields},getDisabledFields:function(){return WPGlobusAcf.disabledFields},unificationField:function(e){return e=/acf\[/.test(e)?(e=e.replace("[","-")).replace("]",""):e},getVendorAcfFields:function(){if(null===o.vendorAcfFields){if("undefined"==typeof WPGlobusVendorAcfFields||""==WPGlobusVendorAcfFields)return o.vendorAcfFields=!1,o.vendorAcfFields;o.vendorAcfFields=WPGlobusVendorAcfFields.split(",")}return o.vendorAcfFields},isVendorAcfField:function(t){if(void 0===t)return!1;t=o.unificationField(t);var n=!1,e=o.getVendorAcfFields();return e&&d.each(e,function(e,i){if(i===t)return!(n=!0)}),n},isRegisteredField:function(i){var t=!1;return o.getFields().forEach(function(e){if(e==i)return!(t=!0)}),t},attachListeners:function(){var i;o.option.pro&&(i=this,acf.add_action&&acf.add_action("append",function(e){i.replaceCloneIndex(e)}))},replaceCloneIndex:function(e){var i=e.data("id");e.find('[data-source-id*="acfcloneindex"]').each(function(){d(this).attr("data-source-id",d(this).attr("data-source-id").replace("acfcloneindex",i))})}},(WPGlobusAcf=d.extend({},WPGlobusAcf,o)).init({pro:WPGlobusAcf.pro}))});